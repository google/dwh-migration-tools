/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    alias libs.plugins.shadow
    id 'dbsync.java-application-conventions'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}


configurations {
    serverClasspath {
        canBeConsumed = false
    }
}

dependencies {
    implementation project(':dbsync:common')
    implementation project(':dbsync:storage-aws')
    implementation project(':dbsync:storage-gcs')
    implementation libs.jopt.simple
    implementation libs.jdiagnostics
    implementation libs.commons.lang3
    implementation libs.google.cloud.run

    // Test dependencies
    testImplementation 'junit:junit:4.13.2'
    testImplementation 'org.mockito:mockito-core:4.11.0'
    testImplementation 'org.mockito:mockito-inline:4.11.0'
}

application {
    mainClass = 'com.google.edwmigration.dbsync.gcsync.GcsyncMain'
}

shadowJar {
    mergeServiceFiles()
}

test {
    useJUnit()
}