name: OSV-Scanner (PR Check)

on:
  pull_request:
    branches: [ "main" ]

permissions:
  contents: read
  security-events: write

jobs:
  # JOB 1: The Scanner (Note: No "steps" here, just "uses")
  osv-scan:
    uses: google/osv-scanner-action/.github/workflows/osv-scanner-reusable-pr.yml@v2.3.1
    with:
      # Optional: Scan arguments
      scan-args: |-
        --recursive

  # JOB 2: (Optional) Your other steps run in a separate job
  build-application:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: ./gradlew build
